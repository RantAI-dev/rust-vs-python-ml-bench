params {
    // Input/Output directories
    data_dir = './data'
    results_dir = './results'
    config_dir = './config'
    
    // Benchmark configuration
    benchmarks_config = "${config_dir}/benchmarks.yaml"
    frameworks_config = "${config_dir}/frameworks.yaml"
    hardware_config = "${config_dir}/hardware.yaml"
    
    // Execution parameters
    repetitions = 10
    confidence_level = 0.95
    enable_gpu = true
    enable_monitoring = true
    
    // Container settings
    container_registry = 'ghcr.io/rust-ml-benchmark'
    python_container = "${container_registry}/python-ml-benchmark:latest"
    rust_container = "${container_registry}/rust-ml-benchmark:latest"
    
    // Resource limits
    max_memory = '32.GB'
    max_cpus = 16
    max_time = '24.h'
}

// Execution profiles
profiles {
    local {
        executor.name = 'local'
        executor.cpus = 8
        executor.memory = '16 GB'
    }
    
    slurm {
        executor.name = 'slurm'
        executor.queueSize = 50
        process.queue = 'gpu'
        process.clusterOptions = '--gres=gpu:1'
    }
    
    docker {
        docker.enabled = true
        docker.userEmulation = true
        singularity.enabled = false
    }
    
    singularity {
        singularity.enabled = true
        singularity.autoMounts = true
        docker.enabled = false
    }

    local_smoke {
        // Minimal local profile for quick smoke runs
        executor.name = 'local'
        process.executor = 'local'
        docker.enabled = false
        singularity.enabled = false
        params.repetitions = 1
        params.enable_gpu = false
        params.enable_monitoring = true
        process.cpus = 4
        process.memory = '6 GB'

        process {
            withLabel: 'cpu_intensive' {
                cpus = 1
                memory = '2 GB'
                time = '1.h'
            }
            withLabel: 'gpu_training' {
                cpus = 1
                memory = '2 GB'
                time = '1.h'
            }
            withLabel: 'memory_intensive' {
                cpus = 1
                memory = '2 GB'
                time = '1.h'
            }
        }
    }
}

// Process resource configuration
process {
    withLabel: 'cpu_intensive' {
        cpus = 1
        memory = '2 GB'
        time = '2.h'
    }
    
    withLabel: 'gpu_training' {
        cpus = 2
        memory = '4 GB'
        time = '6.h'
        clusterOptions = '--gres=gpu:1'
    }
    
    withLabel: 'memory_intensive' {
        cpus = 1
        memory = '8 GB'
        time = '4.h'
    }

    withLabel: 'smoke_light' {
        cpus = 1
        memory = '2.GB'
        time = '1.h'
    }
} 